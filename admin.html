<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel - FirebaseUI</title>
  <!-- FirebaseUI CSS -->
  <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.2/firebase-ui-auth.css" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      color: #fff;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #loader {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>Admin Panel - Login</h1>
  <!-- FirebaseUI container -->
  <div id="firebaseui-auth-container"></div>
  <div id="loader">Loading...</div>

  <!-- Load Firebase compat libraries so that global 'firebase' is defined -->
  <script src="https://www.gstatic.com/firebasejs/11.8.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.8.0/firebase-auth-compat.js"></script>
  <!-- FirebaseUI for Web -->
  <script src="https://www.gstatic.com/firebasejs/ui/6.0.2/firebase-ui-auth__en.js"></script>

  <script>
    // Your Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyD4EBkvYoXJ_pY6wrvvo7wD7CuNuygRHgY",
      authDomain: "live-message-board.firebaseapp.com",
      projectId: "live-message-board",
      storageBucket: "live-message-board.firebasestorage.app",
      messagingSenderId: "465980009336",
      appId: "1:465980009336:web:38b62c2587ded00596b68d",
      measurementId: "G-4KCL1DYY8R"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // FirebaseUI configuration.
    var uiConfig = {
      signInSuccessUrl: "adminPanel.html", // URL to redirect to after sign in
      signInOptions: [
        {
          provider: firebase.auth.PhoneAuthProvider.PROVIDER_ID,
          recaptchaParameters: {
            // Use an invisible reCAPTCHA.
            type: 'image',
            size: 'invisible'
          },
          defaultCountry: 'US', // Optional.
          loginHint: '+1',      // Optional. Prefills the phone number input.
        }
      ],
      autoUpgradeAnonymousUsers: false,
      callbacks: {
        // Called when a user has been successfully signed in.
        signInSuccessWithAuthResult: function(authResult, redirectUrl) {
          console.log("Admin signed in:", authResult.user);
          // Return true to automatically redirect.
          return true;
        }
      }
    };

    // Initialize the FirebaseUI Widget using Firebase.
    var ui = new firebaseui.auth.AuthUI(firebase.auth());
    ui.start('#firebaseui-auth-container', uiConfig);
  </script>
</body>
</html>
